---
version: 1
kind: component
meta:
  name: agilestacks-jenkins
  brief: AgileStacks Jenkins Container
  source:
    dir: ../../components/agilestacks-jenkins

# requires:
# - agilestacks-jenkins-repository

parameters:
- name: component.jenkins
  parameters:
  - name: image
    env:  DOCKER_IMAGE
  - name: namespace
    env: NAMESPACE
    default: jenkins
  - name: email
    default: dev@agilestacks.com
  # - name: namespace  
  #   default: jenkins
  #   env: NAMESPACE

- name: cloud.region
  kind: user
  env: AWS_DEFAULT_REGION
- name: dns.domain
  brief: DNS domain
- name: component.automation-hub
  parameters:
  - name: service
  - name: image
  - name: namespace
  - name: image
- name: component.auth-service
  parameters:
  - name: namespace
  - name: service
  - name: image
- name: component.secrets-service
  parameters:
  - name: namespace
  - name: service
  - name: image
- name: ui.reactor

outputs:
- name: component.jenkins.image
  brief: Agile Stacks Jenkins docker image
  fromTfVar: image_name

templates:
  files: ["*.template"]

---
version: 1
kind: component
meta:
  name: agilestacks-jenkins
  brief: AgileStacks Jenkins Container
  source:
    dir: ../../components/agilestacks-jenkins

requires:
- agilestacks-jenkins-repository

parameters:
- name: agilestacks.postgresql
  parameters:
  - name: jenkins.image_name
    kind: tech
    env:  IMAGE_NAME
  - name: github_key
  - name: jenkins.url
  - name: jenkins.email
    default: dev@agilestacks.com

- name: cloud.region
  env: AWS_DEFAULT_REGION
- name: component.jenkins.namespace
  default: jenkins
- name: dns.domain
  brief: DNS domain
  kind: tech
  env: DOMAIN_NAME

outputs:
- name: component.jenkins.image
  brief: Agile Stacks Jenkins docker image
  fromTfVar: image_name

templates:
  files: ["*.template"]


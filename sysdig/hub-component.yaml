---
version: 1
kind: component
meta:
  name: sysdig
  brief: sysdig monitor
  source:
      dir: ../../components/sysdig

requires:
  - kubernetes
provides:
  - sysdig

parameters:
  - name: dns.domain
    brief: DNS domain
    kind: tech
    env: DOMAIN_NAME
  - name: component.sysdig
    parameters:
    - name:    name
      default: sysdig
      env:     COMPONENT_NAME
    - name:    version
      brief:   sysdig agent version
      default: "latest"
    - name:    namespace
      brief: Kubernetes namespace to install into
      default: sysdig
      env:     NAMESPACE
    - name: rbac.install
      default: false
    - name: AccessKey
      default: "83c6bb73-95b4-44f1-9729-bfbf7d1726db"
    - name: AgentTags
      brief: Key-value agent tags following the format "key:val,key2:val2"
      default: " "
    - name:    resources.limits.memory
      default: "768Mi"
    - name:    resources.requests.memory
      default: "512Mi"
    - name:    resources.limits.cpu
      default: "500m"
    - name:    resources.requests.cpu
      default: "100m"

templates:
  files:
    - "*.template"

---
version: 1
kind: component
meta:
  name: kubeconfig
  brief: Create Kubeconfig
  source:
      dir: ../../components/kubeconfig

requires:
  - kubernetes

parameters:
  - name: dns.domain
    env: DOMAIN_NAME
  - name: kubernetes.config
    parameters:
    - name: caCert
    - name: clientCert
    - name: clientKey
    - name: namespace
      default: kube-system

outputs:
- name: kubernetes.config.kubeconfig
  fromTfVar: kubeconfig

templates:
  files:
    - "*.template"

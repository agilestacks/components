---
version: 1
kind: component
meta:
  name: acm
  brief: AWS Certificate Manager component to produce valid SSL certificates
  source:
    dir: ../../agilestacks-components/acm

parameters:
- name: dns.domain
  env: DOMAIN_NAME
- name: component.acm.additionalNames
  env: ADDITIONAL_NAMES
- name: component.acm.deleteCert
  env: ACM_DELETE_CERTIFICATE
  default: false
- name: cloud.region
  kind: user
  env: AWS_DEFAULT_REGION
outputs:
- name: component.acm.certificate_arn
  brief: ACM Certificate ARN
  fromTfVar: certificate_arn

templates:
  files: ["*.template"]

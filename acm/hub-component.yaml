---
version: 1
kind: component
meta:
  name: acm
  title: ACM
  brief: TLS certificates with AWS Certificate Manager
  description: AWS Certificate Manager component to produce valid SSL certificates
  category: Transport Layer Security
  maturity: ga
  source:
    dir: ../../components/acm

requires:
- aws

parameters:
- name: cloud.region
  env: AWS_DEFAULT_REGION
- name: dns.domain
  env: DOMAIN_NAME
- name: component.acm.additionalNames
  empty: allow
  env: ADDITIONAL_NAMES
- name: component.acm.deleteCert
  env: ACM_DELETE_CERTIFICATE
  value: false
- name: component.acm.timeout
  env: TIMEOUT
  value: 1200
- name: terraform.bucket.name
  env: STATE_BUCKET
- name: terraform.bucket.region
  env: STATE_REGION

outputs:
- name: component.tls.kind
  value: acm
- name: component.acm.certificateArn
  brief: ACM Certificate ARN
  fromTfVar: certificate_arn
- name: component.acm.url
  value: https://${cloud.region}.console.aws.amazon.com/acm/home

---
version: 1
kind: component
meta:
  name: cert-manager
  brief: Automate the management and issuance of TLS certificates
  source:
    dir: ../../components/cert-manager

requires:
- kubernetes
provides:
- cert-manager

parameters:
- name: cloud.region # for DNS01 ACME solver
  value: us-east-1
- name: dns.domain
  env: DOMAIN_NAME
- name: component.cert-manager
  parameters:
  - name: name
    value: cert-manager
    env: COMPONENT_NAME
  - name: namespace
    value: cert-manager
    env: NAMESPACE
  - name: issuerEmail
    value: admin@superhub.io
  - name: defaultIssuerName
    value: letsencrypt-prod
   #value: letsencrypt-staging
  - name: defaultIssuerKind
    value: ClusterIssuer
   #value: Issuer

outputs:
- name: component.tls.kind
  value: letsencrypt

templates:
  files:
  - "*.template"
